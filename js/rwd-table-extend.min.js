/**
 * rwd-table-extend.min.js
 * A RWD-based html table extend tool which made by pure JavaScript and CSS
 * see: https://github.com/sean1093/html-rwd-table for details
 * @version: v1.0.2
 * @author: Sean Chou
 * @licensed: under MIT (https://github.com/sean1093/html-rwd-table/blob/master/LICENSE)
 */
!function(){"use strict";var a=function(a){this.divId=a,this.div=document.getElementById(a),this.table=null};a.REDCircle="red_circle",a.GREENCircle="green_circle",a.BORDERTop="border_top",a.BORDERBottom="border_bottom",a.BORDERLeft="border_left",a.BORDERRight="border_right",a.prototype.initTable=function(a){console.log("[rwd-table-extend] initTable"),this.table=document.createElement("table"),this.table.id="rwd-table_"+Date.now(),this.table.className="rwd-table",this.thead=document.createElement("thead"),this.tbody=document.createElement("tbody"),this.table.appendChild(this.thead),this.table.appendChild(this.tbody),this.div.appendChild(this.table),this.rows=null,a&&this.setAutoView()},a.prototype.setAutoView=function(){var a=document.createElement("style");a.type="text/css",a.innerHTML="@media screen and (max-width: 451px) {.rwd-table tr {border: 1px solid #DDDDDD;}.rwd-table th {display: none;}.rwd-table td {display: block; border: none; text-indent: 10px;}.rwd-table td:before {content: attr(data-th) ''; float: left; font-weight: bold; color: #2196F3;}}",document.body.appendChild(a),console.log("[rwd-table-extend] setAutoView: true ")},a.prototype.addTableHead=function(a){var b=this.thead.insertRow(0),c=0;for(var d in a){var e=document.createElement("th");e.innerHTML=a[d],b.appendChild(e),c++}this.titleLength=c,console.log("[rwd-table-extend] addTableHead")},a.prototype.updateHead=function(a){if(void 0===this.thead||null===this.thead)console.error("[rwd-table-extend] Please add table header first!");else{this.thead.deleteRow(0);this.addTableHead(a)}},a.prototype.addDatas=function(b,c,d){for(var e=d?d:this.tbody.rows.length,f=Array.isArray(b)?b.length:1,g=0;g<f;g++){var h=this.tbody.insertRow(e),i=0,j=Array.isArray(b)?b[g]:b;for(var k in j){var l=h.insertCell(i),m=document.createElement("div");if("object"==typeof j[k]){console.log("object");var n=document.createTextNode(j[k].value);m.appendChild(n),m.style.color=j[k].foreColor?j[k].foreColor:"black",m.style.background=j[k].background?j[k].background:"white"}else if(j[k]==a.REDCircle)m.className+="red-circle";else if(j[k]==a.GREENCircle)m.className+="green-circle";else{var o=document.createTextNode(j[k]);m.appendChild(o)}l.appendChild(m),l.setAttribute("data-th",k),l.setAttribute("contenteditable",!!c&&c),i++}e++}},a.prototype.deleteRow=function(a,b){for(b=b?b:1;b>0;)this.tbody.deleteRow(a),b--},a.prototype.insertRow=function(a,b,c){for(b=b?b:1;b>0;){for(var d=this.tbody.insertRow(a),e=0;e<this.titleLength;e++){var f=d.insertCell(e);f.setAttribute("contenteditable",!!c&&c)}b--}},a.prototype.hideContent=function(a){var b=document.createElement("style");b.type="text/css",b.innerHTML="@media screen and (max-width:451px) { #"+this.table.id+" td[data-th='"+a+"'] { display: none; }}",document.body.appendChild(b)},a.prototype.getRowCount=function(){return this.rows=document.getElementsByTagName("table")[0].rows,this.rows.length-1},a.prototype.setHeaderBackColor=function(a){this.thead.style.background=a},a.prototype.setHeaderTextColor=function(a){this.thead.style.color=a},a.prototype.setRowBorder=function(b,c,d){this.rows=document.getElementsByTagName("table")[0].rows,c==a.BORDERTop?this.rows[b].style.borderTop="1px solid "+d:c==a.BORDERBottom&&(this.rows[b].style.borderBottom="1px solid "+d)},a.prototype.setColBorder=function(b,c,d,e){this.rows=document.getElementsByTagName("table")[0].rows;for(var f=0;f<this.rows.length;f++)if(e||0!==f){var g=this.rows[f].childNodes;c==a.BORDERLeft?g[b].style.borderLeft="1px solid "+d:c==a.BORDERRight&&(g[b].style.borderRight="1px solid "+d)}},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a:window.rwdTableExtend=a}();